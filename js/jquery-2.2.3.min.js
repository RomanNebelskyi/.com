(function(){
    var divs = $('.scrolling');

    function CachePositions(){
        divs.each(function(){
            if ($(this).css('position')!='fixed')
                $(this).data({initialTop:$(this).position().top});
        });
    }

    var scrollable = $(window);
    scrollable.scroll(function(){
        divs.each(function(){
            var top = $(this).data('initialTop');
            if(top<scrollable.scrollTop()){
                $(this).css({position:'fixed',top:0});
            } else {
                $(this).css({position:'absolute',top:top+'px'});
            }
        })
    });

    var resizeTimeout;
    $(window).resize(function(){
        if (resizeTimeout)
            clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(function(){
            resizeTimeout = null;
            CachePositions();
        },100);
    });
    
    CachePositions();
})();

$( document ).ready(functio())($(".dropdown-button").dropdown());
    
